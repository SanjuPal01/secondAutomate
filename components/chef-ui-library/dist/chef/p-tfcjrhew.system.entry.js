var __awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(s,o){function r(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i["throw"](e))}catch(e){o(e)}}function c(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(r,a)}c((i=i.apply(e,t||[])).next())})};var __generator=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,r;return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return c([e,t])}}function c(r){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(o=r[0]&2?s["return"]:r[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,r[1])).done)return o;if(s=0,o)r=[r[0]&2,o.value];switch(r[0]){case 0:case 1:o=r;break;case 4:n.label++;return{value:r[1],done:false};case 5:n.label++;s=r[1];r=[0];continue;case 7:r=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(r[0]===6||r[0]===2)){n=0;continue}if(r[0]===3&&(!o||r[1]>o[0]&&r[1]<o[3])){n.label=r[1];break}if(r[0]===6&&n.label<o[1]){n.label=o[1];o=r;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(r);break}if(o[2])n.ops.pop();n.trys.pop();continue}r=t.call(e,n)}catch(e){r=[6,e];s=0}finally{i=o=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:true}}};System.register(["./p-0b5aeae5.system.js","./p-1095b4e8.system.js","./p-513f982b.system.js","./p-c6c4b63c.system.js","./p-3b45f3cd.system.js","./p-2d94cfe1.system.js","./p-9e11f585.system.js"],function(e){"use strict";var t,n,i,s,o,r,a,c,u,l,h,d,f,p,v;return{setters:[function(e){t=e.r;n=e.d;i=e.h;s=e.H;o=e.c},function(){},function(e){r=e.d;a=e.r;c=e.G;u=e.N;l=e.J},function(e){h=e.r;d=e.f},function(e){f=e.g},function(e){p=e.r},function(e){v=e.c}],execute:function(){var y=r("findIndex",h);y.placeholder=a;var b=y;function m(e){return function(t,n){if(!(typeof t=="string"&&typeof n=="string")){t=c(t);n=c(n)}return e(t,n)}}var x=m;var g=x(function(e,t){return e<=t});var w=g;var I=r("lte",w);I.placeholder=a;var _=I;function E(e,t,n){var i=-1,s=e.length;while(++i<s){var o=e[i],r=t(o);if(r!=null&&(a===undefined?r===r&&!u(r):n(r,a))){var a=r,c=o}}return c}var j=E;function k(e,t){return e>t}var D=k;function O(e){return e&&e.length?j(e,l,D):undefined}var S=O;var A=r("max",S,p);A.placeholder=a;var C=A;var P=function(){function e(e){t(this,e);this.disabled=false;this.options=[];this.selectedIndex=0;this.selectedContent="";this.focusedIndex=0;this.focused=false;this.active=false;this.minWidth=0;this.change=n(this,"change",7)}e.prototype.handleFocus=function(){if(!this.disabled){this.focused=true}};e.prototype.handleFocusOut=function(e){var t=e.relatedTarget;e.stopPropagation();if(!t||t.nodeName!=="CHEF-DROPDOWN"){this.focused=false;this.active=false}};e.prototype.handleClickActivation=function(e){if(this.disabled){return}else if(this.active){var t=e.target.closest("chef-option");if(!t)return;var n=t.optionId;this.makeSelection(b(["optionId",n],this.options))}else{this.activate(this.selectedIndex)}};e.prototype.handleKeydown=function(e){switch(e.key){case" ":case"Enter":return this.handleKeyActivation();case"Escape":return this.handleEscape();case"ArrowUp":return this.handleUp(e);case"ArrowDown":return this.handleDown(e)}};e.prototype.handleKeyActivation=function(){if(this.disabled){return}else if(this.active){this.makeSelection(this.focusedIndex)}else{this.activate(this.selectedIndex)}};e.prototype.handleEscape=function(){this.active=false;this.focusedIndex=this.selectedIndex};e.prototype.handleUp=function(e){e.preventDefault();this.focusedIndex=this.clamp(this.focusedIndex-1)};e.prototype.handleDown=function(e){e.preventDefault();this.focusedIndex=this.clamp(this.focusedIndex+1)};e.prototype.componentDidLoad=function(){this.options=Array.from(this.el.querySelectorAll("chef-option"));var e=[b(["value",this.value],this.options),b("selected",this.options),0];var t=this.clamp(d(_(0),e));this.value=f("",[t,"value"],this.options);this.selectedIndex=t;this.focusedIndex=t;this.syncOptions(t)};e.prototype.componentWillUpdate=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,i,s,o;return __generator(this,function(r){switch(r.label){case 0:e=Promise.all(this.options.map(function(e){return e.getWidth()}));t=this;n=C;return[4,e];case 1:t.minWidth=n.apply(void 0,[r.sent()])||0;i=this.options[this.selectedIndex];s=this;if(!i)return[3,3];return[4,i.getContent()];case 2:o=r.sent();return[3,4];case 3:o="";r.label=4;case 4:s.selectedContent=o;return[2]}})})};e.prototype.render=function(){var e=this.options[this.focusedIndex];var t={minWidth:this.minWidth+20+"px"};var n=[this.focused?"focused":"",this.active?"active":"",this.disabled?"disabled":""].join(" ");return i(s,{role:"combobox",class:n,style:t,tabindex:this.disabled?"-1":"0",highlighted:f("","optionId",e)},i("span",{class:"selected-value",role:"button","aria-haspopup":"listbox","aria-expanded":this.active},i("span",{class:"option-content",innerHTML:this.selectedContent}),i("chef-icon",{"aria-hidden":true},"expand_more")),i("div",{class:"options"},i("chef-dropdown",{tabindex:"-1",visible:this.active,role:"listbox","aria-activedescendant":f("","optionId",e)},i("slot",null))))};e.prototype.clamp=function(e){return v(0,this.options.length-1,e)};e.prototype.makeSelection=function(e){var t=new CustomEvent("change");this.selectedIndex=e;this.active=false;this.value=f("",[e,"value"],this.options);this.change.emit(t);this.syncOptions(e)};e.prototype.activate=function(e){var t=this.el.querySelector("chef-dropdown");this.active=true;this.focusedIndex=this.clamp(e);t.focus()};e.prototype.syncOptions=function(e){if(this.options[e]){this.options.forEach(function(e){return e.selected=false});this.options[e].selected=true}};Object.defineProperty(e.prototype,"el",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"chef-select{outline:none;border-radius:var(--chef-border-radius);border-color:var(--chef-grey);display:inline-block;background-color:var(--chef-white);cursor:pointer}chef-select .selected-value{display:block;padding:1em 3.5em 1em 1em;border-radius:inherit;border:1px solid;border-color:inherit;position:relative;-webkit-transition:border-color .5s ease;transition:border-color .5s ease}chef-select .selected-value chef-icon{position:absolute;right:.75em;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:1.25em}chef-select .selected-value:not(.disabled) .selected-value{cursor:pointer}chef-select.focused .selected-value{border-color:var(--chef-primary-bright)}chef-select.active .selected-value{border-bottom-left-radius:0;border-bottom-right-radius:0;z-index:102}chef-select .options{width:100%;position:relative}chef-select chef-dropdown{width:100%;border:1px solid;border-color:var(--chef-primary-bright);border-top:none;border-top-left-radius:0;border-top-right-radius:0;outline:none;z-index:101}chef-select chef-option{display:block;padding:1em 3em 1em 1.5em;border-bottom:1px solid var(--chef-grey);cursor:pointer;color:inherit;position:relative;white-space:nowrap}chef-select chef-option:last-child{border-bottom:0}chef-select chef-option:hover{background-color:var(--chef-lightest-grey);color:var(--chef-primary-bright);outline:none}chef-select chef-option .option-content{overflow:hidden;text-overflow:ellipsis;display:inline-block;width:100%}"},enumerable:true,configurable:true});return e}();e("chef_select",P)}}});
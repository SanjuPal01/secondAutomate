import{r as t,h as e,c as s}from"./p-1b10ccda.js";class h{constructor(e){t(this,e),this.value="",this.placeholder="",this.editing="key",this.changeEvent=new Event("change",{bubbles:!0})}componentDidLoad(){this.editing=this.value?"value":"key"}render(){const[t,s]=this.value.split(":");return["value"===this.editing&&t?e("chef-pill",null,t):"",e("input",{type:"text",value:"key"===this.editing?t:s,placeholder:this.placeholder,onKeyDown:this.handleUpdate.bind(this,t),onChange:this.handleChange.bind(this)})]}handleUpdate(t,e){const s=new Event("change");switch(e.key){case"Tab":"key"===this.editing&&e.target.value&&(e.preventDefault(),e.target.dispatchEvent(s));break;case"Backspace":e.target.value||"value"!==this.editing||(this.value=t,this.editing="key",this.el.dispatchEvent(this.changeEvent))}}handleChange(t){t.stopPropagation(),"key"===this.editing&&t.target.value?(this.value=t.target.value,this.editing="value"):this.value=t.target.value?`${this.value.split(":")[0]}:${t.target.value}`:"",this.el.dispatchEvent(this.changeEvent)}get el(){return s(this)}static get style(){return"chef-input-key-value{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}chef-input-key-value chef-pill{margin-left:.5em;-ms-flex:1 0 auto;flex:1 0 auto}chef-input-key-value input{-ms-flex:0 1 auto;flex:0 1 auto}"}}export{h as chef_input_key_value};
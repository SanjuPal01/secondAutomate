# Developing and Testing Notifications

When developing directly against the notifications service, see the Readme and any additional docs
at `components/notifications-service` for more information than is contained here. This is a high
level look at testing and generating notifications test data.

## Testing Slack Notifications

Use the notification UI to setup a Slack notification for the failure type you want to test.

To get a Slack Webhook URL, use this link: <https://my.slack.com/services/new/incoming-webhook>
This is also the same link you reach if you select "What's this?" in the notifications UI.

The Slack channel `#a2-notifications-test` has been setup specifically for testing notifications.
Feel free to use it so you don't have to create another channel to use.

## Testing Webhook Notifications

If you need to test the generic webhook notifications, it is easy to do if you use a service like [RequestBin](http://requestbin.sjcmmsn.com/).

Go to http://requestbin.sjcmmsn.com/ and create a new RequestBin. It will give you a unique link.
Use this link as the webhook for the notification to post to. Each time a notification is sent,
RequestBin will receive it and show the contents of the payload.

## Viewing Notification Payloads

One easy way is to follow the steps above for Testing Webhook Notifications and make use of
RequestBin. Using a RequestBin URL as a Slack webhook URL works, so this can be used to see the
payload contents of a notification that is intended for Slack.

## Generating failed data to trigger notifications

Currently notifications only fire on failed chef client runs or failed InSpec scans. In the hab
studio environment these can be generated by running `send_chef_run_failure_example` or `send_inspec_failure_example`.
